{% extends 'base.html.twig' %}

{% block title %}Hello AccueilController!
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('fullcalendar/core/main.min.css')}}">
    <link rel="stylesheet" href="{{ asset('fullcalendar/daygrid/main.min.css')}}">
    <link rel="stylesheet" href="{{ asset('fullcalendar/timegrid/main.min.css')}}">
{% endblock %}

{% block insideHeader %}
    <section class="content-header">
        <h1>
            Accueil
            <small>Tableaux de bord</small>
        </h1>
        <ol class="breadcrumb">
            <li>
                <a href="#">
                    <i class="fa fa-dashboard"></i>
                    Accueil</a>
            </li>
            <li class="active">Tableaux de bord</li>
        </ol>
    </section>
{% endblock %}

{% block body %}
    <div class="callout callout-info">
        <h4 class="text-center">Nombres des acteurs au seins du mention électronique</h4>
    </div>
    <div class="row">
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-yellow">
                <div class="inner">
                    <h3 class="text-center">{{ nbr_etudiant_ac }}</h3>

                    <p>Etudiant académique</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a class="small-box-footer" href="#">Plus de détaille
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-yellow">
                <div class="inner">
                    <h3 class="text-center">{{ nbr_etudiant_pro }}</h3>

                    <p>Etudiant proféssionnel</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a class="small-box-footer" href="#">Plus de détaille
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>{{ nbr_enseignant_vac }}</h3>

                    <p>Enséignants vacataire</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                <a class="small-box-footer" href="#">Plus de détaille
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-3 col-xs-6">
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>{{ nbr_enseignant_per }}</h3>

                    <p>Enséignants pérmanent</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                <a class="small-box-footer" href="#">Plus de détaille
                    <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="callout callout-info">
        <h4 class="text-center">Calendrier des évenement et les articles</h4>
    </div>
    <div class="col-md-6" style="background-color:white ;">
        <a href="{{ path('school_new') }}" class="btn btn-warning">Ajouter un évenement</a>
        {% include '@Calendar/calendar.html' %}
    </div>
    <div class="col-md-6">
        <div class="box box-success">
            <div class="box-header ui-sortable-handle" style="cursor: move;">
                <i class="fa fa-calendar-minus-o"></i>

                <h3 class="box-title">Evénement</h3>

            </div>
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 250px;">
                <div
                    class="box-body chat" id="chat-box" style="overflow: hidden; width: auto; height: 250px;">
                    <!-- chat item -->
                    <div class="item">
                        <img alt="user image" class="online" src="dist/img/user4-128x128.jpg">

                        <p class="message">
                            <a class="name" href="#">
                                <small class="text-muted pull-right">
                                    <i class="fa fa-clock-o"></i>
                                    2:15</small>
                                Mike Doe
                            </a>
                            I would like to meet you to discuss the latest news about
                                                                          the arrival of the new theme. They say it is going to be one the
                                                                          best themes on the market
                        </p>
                        <div class="attachment">
                            <h4>Attachments:</h4>

                            <p class="filename">
                                Theme-thumbnail-image.jpg
                            </p>

                            <div class="pull-right">
                                <button class="btn btn-primary btn-sm btn-flat" type="button">Open</button>
                            </div>
                        </div>
                        <!-- /.attachment -->
                    </div>
                    <!-- /.item -->
                    <!-- chat item -->
                    <div class="item">
                        <img alt="user image" class="offline" src="dist/img/user3-128x128.jpg">

                        <p class="message">
                            <a class="name" href="#">
                                <small class="text-muted pull-right">
                                    <i class="fa fa-clock-o"></i>
                                    5:15</small>
                                Alexander Pierce
                            </a>
                            I would like to meet you to discuss the latest news about
                                                                          the arrival of the new theme. They say it is going to be one the
                                                                          best themes on the market
                        </p>
                    </div>
                    <!-- /.item -->
                    <!-- chat item -->
                    <div class="item">
                        <img alt="user image" class="offline" src="dist/img/user2-160x160.jpg">

                        <p class="message">
                            <a class="name" href="#">
                                <small class="text-muted pull-right">
                                    <i class="fa fa-clock-o"></i>
                                    5:30</small>
                                Susan Doe
                            </a>
                            I would like to meet you to discuss the latest news about
                                                                          the arrival of the new theme. They say it is going to be one the
                                                                          best themes on the market
                        </p>
                    </div>
                    <!-- /.item -->
                </div>
                <div class="slimScrollBar" style="background: rgb(0, 0, 0); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px; height: 184.911px;"></div>
                <div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;"></div>
            </div>
            <!-- /.chat -->
            <div class="box-footer">
                <div class="input-group">
                    <input class="form-control" placeholder="Ajouter un événement...">

                    <div class="input-group-btn">
                        <button class="btn btn-success" type="button">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bower_components/jquery/dist/jquery.min.js') }}"></script>
    <script src="{{ asset('bower_components/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('dist/js/adminlte.min.js') }}"></script>
    <script src="{{ asset('fullcalendar/core/main.min.js') }}"></script>
    <script src="{{ asset('fullcalendar/interaction/main.min.js') }}"></script>
    <script src="{{ asset('fullcalendar/daygrid/main.min.js') }}"></script>
    <script src="{{ asset('fullcalendar/timegrid/main.min.js') }}"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', () => {
            var calendarEl = document.getElementById('calendar-holder');

            var calendar = new FullCalendar.Calendar(calendarEl, {
                defaultView: 'dayGridMonth',
                editable: true,
                eventSources: [
                    {
                        url: "{{ path('fc_load_events') }}",
                        method: "POST",
                        extraParams: {
                            filters: JSON.stringify({})
                        },
                        failure: () => { // alert("There was an error while fetching FullCalendar!");
                        }
                    },
                ],
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                plugins: [
                    'interaction', 'dayGrid', 'timeGrid'
                ], // https://fullcalendar.io/docs/plugin-index
                timeZone: 'UTC'
            });
            calendar.render();
        });
    </script>
{% endblock %}
